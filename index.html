<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Rose Focus Example</title>
	</head>
	<script type="text/javascript" src="./js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="./js/jquery-ui-1.10.3.custom.min.js"></script>
	<link rel="stylesheet" href="./css/rosefocus.css">
<body>
	
	<div class="rf-container">
		<div class="rf-container-body">
			<a href="#" class="rf-slide-prev"></a>
			<div class="rf-slide-pane">
				<div class="rf-slide-section">
					<div class="rf-section-item" id="rf-section-1">
						<div class="rf-section-item-inner">
							<h1>
								<a href="#"><img src="./images/text1.png" alt=""></a>
							</h1>							
						</div>
					</div>
					<div class="rf-section-item" id="rf-section-2">
						<div class="rf-section-item-inner">
							<h1>
								<a href="#"><img src="./images/text2.png" alt=""></a>
							</h1>
						</div>
					</div>
					<div class="rf-section-item" id="rf-section-3">
						<div class="rf-section-item-inner">
							<h1>
								<a href="#"><img src="./images/text3.png" alt=""></a>
							</h1>
						</div>
					</div>
				</div>
			</div>
			<a href="#" class="rf-slide-next"></a>
			<div class="rf-slide-nav">
				<a href="#" id="s1" class="on trigger">
					<div class="rf-slide-nav-thumb thumb-1">
						
					</div>
				</a>
				<a href="#" id="s2" class="trigger">
					<div class="rf-slide-nav-thumb thumb-2">
						
					</div>					
				</a>
				<a href="#" id="s3" class="trigger">
					<div class="rf-slide-nav-thumb thumb-3">
						
					</div>					
				</a>
			</div>
		</div>
	</div>

	<script type="text/javascript">
	$(document).ready(function(){
		$('.rf-section-item').css('width', $(window).width() );
		$(window).resize(function() {
			//update stuff
			//alert('test');
			$('.rf-section-item').css('width', $(window).width() );
		});

		var current = 1;

		$('.trigger').click(function(e){			
			var i = $(this);
			var w = $(window).width();
			var c = i.index();
			var left = -1 * w *  ( i.index() );

			$('.trigger').removeClass('on');
			$(this).addClass('on');

			//console.log( '#rf-section-' + current + '>div>h1' );
			//console.log( $('#rf-section-' + current + '>div>h1') );
			//console.log( 'left:' + left );
			$('#rf-section-' + current + '>div>h1').animate(
				{
					left:-1300
				},{
					duration: 3000,
					easing: 'easeOutElastic',
					step : function(now, fx){

					},
					complete: function(){
						$(this).css('left','0');
					}
				}
			);
			$('.rf-slide-section').animate(
				{
					left: left
				}, {
					duration: 2000,
					easing: 'easeInOutExpo',
					complete: function(){
						
					}
				}
			);
			//console.log('Current:' + current);
			current = c + 1;
			//console.log('Current Changed:' + current);
		});
	});
	</script>
</body>
</html>